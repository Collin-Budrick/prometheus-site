import{t as c}from"./q-B9iggP75.js";import{C as v,D as k,E as S,S as u,T as p,_ as e,a as L,b as m,c as P,d as Q,f as T,g as r,h as C,i as q,l as _,m as f,n as I,o as j,p as n,r as R,s as A,t as h,u as F,v as g,w as M,x as o,y}from"./q-Bb59IpAh.js";var U=new Set(["style","script","fetch","image","worker"]);const D=(l,a)=>{const s=new Set;return(l??[]).filter(t=>{if(t.rel!=="preload")return!0;if(a)return!1;const i=t.href,x=t.as;return typeof i!="string"||i.trim().length===0||typeof x!="string"||!U.has(x)||x==="font"||s.has(i)?!1:(s.add(i),!0)})};var H=c({RouterHead:()=>b,default:()=>N},1),E=()=>{const l=L(),a=j(),s=D(l.links,!1);return k(y("s_i9jDD0qAvos")),r(F,{children:[e("title",null,null,l.title||"Prometheus",1,null),e("meta",null,{name:"viewport",content:"width=device-width, initial-scale=1, viewport-fit=cover"},null,3,null),e("link",null,{rel:"canonical",href:f(t=>t.url.href,[a],"p0.url.href")},null,3,null),l.meta.map(t=>g("meta",{...t},null,0,t.key)),s.map(t=>g("link",{...t},null,0,t.key)),l.styles.map(t=>g("style",{...t.props,get dangerouslySetInnerHTML(){return t.style},dangerouslySetInnerHTML:m(t,"style")},null,0,t.key)),e("script",null,{type:"speculationrules",dangerouslySetInnerHTML:'{"prerender":[{"source":"document","where":{"href_matches":"/store"}}],"prefetch":[{"source":"document","where":{"href_matches":"/chat"}}]}'},null,3,null),e("script",null,{dangerouslySetInnerHTML:"if ('startViewTransition' in document) {document.documentElement.classList.add('supports-view-transition');}"},null,3,null)]},1,"qG_0")};const b=o(u(E,"s_0ZAFccQi4aM"));var G=()=>e("div",null,{class:"min-h-screen bg-gradient-to-b from-slate-950 via-slate-900 to-slate-950"},[e("header",null,{class:"sticky top-0 z-20 border-b border-slate-800 bg-slate-950/80 backdrop-blur"},e("nav",null,{class:"mx-auto flex max-w-5xl items-center justify-between px-4 py-3 text-sm font-medium"},[e("div",null,{class:"flex items-center gap-2"},[e("span",null,{class:"rounded-full bg-emerald-500/10 px-3 py-1 text-emerald-300"},"Prometheus",3,null),e("span",null,{class:"text-slate-400"},"Performance Lab",3,null)],3,null),e("div",null,{class:"flex items-center gap-4 text-slate-200"},[r(h,{href:"/",class:"hover:text-emerald-300 transition-colors",children:"Home",[n]:{href:n,class:n}},3,"qG_1"),r(h,{href:"/store",class:"hover:text-emerald-300 transition-colors",children:"Store",[n]:{href:n,class:n}},3,"qG_2"),r(h,{href:"/chat",class:"hover:text-emerald-300 transition-colors",children:"Chat",[n]:{href:n,class:n}},3,"qG_3"),r(h,{href:"/ai",class:"hover:text-emerald-300 transition-colors",children:"AI",[n]:{href:n,class:n}},3,"qG_4")],1,null)],1,null),1,null),e("main",null,{class:"mx-auto flex max-w-5xl flex-col gap-6 px-4 py-10 route-transition"},r(T,null,3,"qG_5"),1,null)],1,"qG_6"),N=o(u(G,"s_wqKL2Up903o")),V=c({default:()=>B,head:()=>K,onGet:()=>$},1);const $=()=>({headers:{"cache-control":"public, max-age=900"}});var J=()=>e("section",null,{class:"grid gap-6 md:grid-cols-2"},[e("div",null,{class:"surface p-6"},[e("p",null,{class:"text-sm uppercase tracking-wide text-emerald-300"},"Performance first",3,null),e("h1",null,{class:"mt-2 text-3xl font-semibold text-slate-50"},"Microscopic first load, big capability",3,null),e("p",null,{class:"mt-4 text-slate-300"},"Qwik City SSR keeps the shell light. Navigation is enhanced with View Transitions and Speculation Rules when the browser supports them, and third-party scripts stay off the main thread.",3,null),e("div",null,{class:"mt-6 grid gap-3 text-sm text-slate-200"},[e("div",null,{class:"flex items-center gap-2"},"âš¡ Ultra-thin home route with immutable caching",3,null),e("div",null,{class:"flex items-center gap-2"},"ðŸ§© Lazy feature routes for store, chat, and AI",3,null),e("div",null,{class:"flex items-center gap-2"},"ðŸ§  Optional Partytown for third-party isolation",3,null)],3,null)],3,null),e("div",null,{class:"surface p-6 text-sm text-slate-200"},[e("h2",null,{class:"text-lg font-semibold text-slate-50"},"Latency budget",3,null),e("ul",null,{class:"mt-3 space-y-2"},[e("li",null,null,"Server render: sub-50ms target with streaming enabled",3,null),e("li",null,null,"Critical CSS: UnoCSS + Lightning CSS keeps payloads tiny",3,null),e("li",null,null,"Speculative nav: prerender store, prefetch chat",3,null)],3,null)],3,null)],3,"yz_0"),B=o(u(J,"s_wrC1JtXlhqA"));const K={title:"Prometheus | Ultra-fast starter",meta:[{name:"description",content:"Qwik City + Bun + Valkey performance stack starter."}]};var O=c({default:()=>Y,head:()=>z},1),Z=async()=>{const[l,a]=v();if(!l.value)return;const s=await fetch("/api/ai/echo",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:l.value})});if(s.ok){const{echo:t}=await s.json();a.value=t}},X=()=>{const l=p(""),a=p(""),s=u(Z,"s_IeTPFYT6ASQ",[l,a]);return e("section",null,{class:"surface p-6"},[e("p",null,{class:"text-sm uppercase tracking-wide text-emerald-300"},"AI tools",3,null),e("h1",null,{class:"text-2xl font-semibold text-slate-50"},"Edge-friendly utilities",3,null),e("p",null,{class:"mt-3 max-w-2xl text-sm text-slate-300"},"This route keeps the interaction simple: a round-trip echo API that exercises Bun + Elysia without shipping extra client bundles.",3,null),e("div",null,{class:"mt-4 space-y-3 text-sm text-slate-200"},[e("textarea",null,{value:f(t=>t.value,[l],"p0.value"),class:"w-full rounded-lg border border-slate-800 bg-slate-900 px-3 py-2",placeholder:"Type a quick prompt",rows:4,onInput$:y("s_LABJ4QOQ7gI",[l])},null,3,null),e("div",null,{class:"flex items-center gap-2"},[e("button",null,{type:"button",class:"rounded-lg bg-emerald-500 px-4 py-2 text-sm font-semibold text-emerald-950",onClick$:s},"Send to API",3,null),a.value&&e("span",null,{class:"text-emerald-300"},["Response: ",f(t=>t.value,[a],"p0.value")],3,"gn_0")],1,null)],1,null)],1,"gn_1")},Y=o(u(X,"s_X8xIQqUjebE"));const z={title:"AI | Prometheus",meta:[{name:"description",content:"Minimal AI utility route hitting Bun API."}]};var W=c({default:()=>se,head:()=>ae},1),ee=({cleanup:l})=>{const[a,s]=v()},le=()=>{const[l,a]=v();!l.value||!a.value||(a.value.send(JSON.stringify({type:"chat",text:l.value})),l.value="")},te=()=>{const l=p([]),a=p(null),s=p("");S(u(ee,"s_IJ05ZFgM0H4",[l,a]),{eagerness:"visible"});const t=u(le,"s_ub0KtQnLT0Q",[s,a]);return e("section",null,{class:"surface p-6"},[e("div",null,{class:"flex items-center justify-between gap-2"},[e("div",null,null,[e("p",null,{class:"text-sm uppercase tracking-wide text-emerald-300"},"Realtime",3,null),e("h1",null,{class:"text-2xl font-semibold text-slate-50"},"WebSocket chat via Valkey pub/sub",3,null)],3,null),e("span",null,{class:"rounded-full bg-slate-800 px-3 py-1 text-xs text-slate-200"},"websocket",3,null)],3,null),e("p",null,{class:"mt-3 max-w-2xl text-sm text-slate-300"},"The client only loads after navigation to keep the home route microscopic. Messages fan out through Valkey channels on the API.",3,null),e("div",null,{class:"mt-5 space-y-3 text-sm text-slate-200"},[e("div",null,{class:"surface max-h-64 overflow-auto p-4"},[l.value.length===0&&e("p",null,{class:"text-slate-500"},"No messages yet.",3,"TX_0"),l.value.map(i=>e("div",null,{class:"py-1"},[e("span",null,{class:"text-slate-400"},[m(i,"from"),":"],1,null)," ",e("span",null,null,m(i,"text"),1,null)],1,i.id))],1,null),e("div",null,{class:"flex gap-2"},[e("input",null,{value:f(i=>i.value,[s],"p0.value"),class:"w-full rounded-lg border border-slate-800 bg-slate-900 px-3 py-2 text-slate-100",placeholder:"Say something quick",onInput$:y("s_wKLih1EFcnc",[s])},null,3,null),e("button",null,{type:"button",class:"rounded-lg bg-emerald-500 px-4 py-2 text-sm font-semibold text-emerald-950",onClick$:t},"Send",3,null)],3,null)],1,null)],1,"TX_1")},se=o(u(te,"s_uFxaifyy6KQ"));const ae={title:"Chat | Prometheus",meta:[{name:"description",content:"WebSocket chat backed by Valkey pub/sub."}]};var ne=c({default:()=>ie,head:()=>oe,onGet:()=>re},1);const re=()=>({headers:{"cache-control":"public, max-age=900"}});var ue=()=>e("section",null,{class:"grid gap-6 md:grid-cols-2"},[e("div",null,{class:"surface p-6"},[e("p",null,{class:"text-sm uppercase tracking-wide text-emerald-300"},"Performance first",3,null),e("h1",null,{class:"mt-2 text-3xl font-semibold text-slate-50"},"Microscopic first load, big capability",3,null),e("p",null,{class:"mt-4 text-slate-300"},"Qwik City SSR keeps the shell light. Navigation is enhanced with View Transitions and Speculation Rules when the browser supports them, and third-party scripts stay off the main thread.",3,null),e("div",null,{class:"mt-6 grid gap-3 text-sm text-slate-200"},[e("div",null,{class:"flex items-center gap-2"},"âš¡ Ultra-thin home route with immutable caching",3,null),e("div",null,{class:"flex items-center gap-2"},"ðŸ§© Lazy feature routes for store, chat, and AI",3,null),e("div",null,{class:"flex items-center gap-2"},"ðŸ§  Optional Partytown for third-party isolation",3,null)],3,null)],3,null),e("div",null,{class:"surface p-6 text-sm text-slate-200"},[e("h2",null,{class:"text-lg font-semibold text-slate-50"},"Latency budget",3,null),e("ul",null,{class:"mt-3 space-y-2"},[e("li",null,null,"Server render: sub-50ms target with streaming enabled",3,null),e("li",null,null,"Critical CSS: UnoCSS + Lightning CSS keeps payloads tiny",3,null),e("li",null,null,"Speculative nav: prerender store, prefetch chat",3,null)],3,null)],3,null)],3,"FW_0"),ie=o(u(ue,"s_e7mxYERDQJw"));const oe={title:"Prometheus | Ultra-fast starter",meta:[{name:"description",content:"Qwik City + Bun + Valkey performance stack starter."}]};var ce=c({_auto_fetchStoreItems:()=>w,default:()=>me,head:()=>he},1),w=async()=>{const l=await fetch("/api/store/items?limit=5");return l.ok?l.json():[]},de=async()=>w(),pe=()=>{const l=M(u(de,"s_3NNLApaP00E"));return e("section",null,{class:"surface p-6"},[e("div",null,{class:"flex items-center justify-between gap-2"},[e("div",null,null,[e("p",null,{class:"text-sm uppercase tracking-wide text-emerald-300"},"Store",3,null),e("h1",null,{class:"text-2xl font-semibold text-slate-50"},"Fast browsing with tiny payloads",3,null)],3,null),e("span",null,{class:"rounded-full bg-slate-800 px-3 py-1 text-xs text-slate-200"},"cached",3,null)],3,null),e("p",null,{class:"mt-3 max-w-2xl text-sm text-slate-300"},"Items stream from the Bun API and cache in Valkey. Cursor pagination keeps responses lean while staying resilient to large catalogs.",3,null),r(Q,{value:l,onPending:()=>e("p",null,{class:"mt-4 text-slate-400"},"Loading inventoryâ€¦",3,"3h_0"),onRejected:()=>e("p",null,{class:"mt-4 text-red-300"},"Unable to load items right now.",3,"3h_1"),onResolved:a=>e("ul",null,{class:"mt-6 grid gap-3 md:grid-cols-2"},a.map(s=>e("li",null,{class:"surface p-4"},[e("p",null,{class:"text-sm text-slate-400"},["SKU ",m(s,"id")],1,null),e("p",null,{class:"text-lg font-semibold text-slate-50"},m(s,"name"),1,null),e("p",null,{class:"text-emerald-300"},["$",s.price.toFixed(2)],1,null)],1,s.id)),1,"3h_2"),[n]:{value:n,onPending:n,onRejected:n,onResolved:n}},3,"3h_3")],1,"3h_4")},me=o(u(pe,"s_bZ8kc5UlLx4"));const he={title:"Store | Prometheus",meta:[{name:"description",content:"Valkey-cached store with cursor pagination."}]},fe=[];var d=()=>H;const xe=[["/",[d,()=>V],"/",["q-DHTDgRtF.js","q-DhXaJ-Uf.js"]],["ai",[d,()=>O],"/ai",["q-DHTDgRtF.js","q-yYs6Zuj7.js"]],["chat",[d,()=>W],"/chat",["q-DHTDgRtF.js","q-BQjwZzkY.js"]],["index",[d,()=>ne],"/index",["q-DHTDgRtF.js","q-CLN1RLt5.js"]],["store",[d,()=>ce],"/store",["q-DHTDgRtF.js","q-CMM26kYQ.js"]]],ge=[];var ve={routes:xe,serverPlugins:fe,menus:ge,trailingSlash:!1,basePathname:"/",cacheModules:!0},ye=()=>C(r(I,{children:[e("head",null,null,[e("meta",null,{charSet:"utf-8"},null,3,null),r(b,null,3,"xd_0")],1,null),e("body",null,{class:"app-shell"},[r(R,null,3,"xd_1"),r(q,null,3,"xd_2")],1,null)]},1,"xd_3")),_e=o(u(ye,"s_8txvw3enrrU"));function be(l){return P(r(_e,null,3,"CC_0"),{...l,manifest:l.manifest??_,containerTagName:"html",stream:l.stream??{static:{buffer:0},inOrder:["<html"]}})}var{router:we,notFound:ke}=A({render:be,qwikCityPlan:ve,manifest:_}),Pe={router:we,notFound:ke};export{Pe as default,ke as notFound,we as router};
