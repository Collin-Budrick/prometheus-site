@import "tailwindcss";

@layer base {
  :root {
    color-scheme: light;
    --ink: 15 23 42;
    --muted: 71 85 105;
    --surface: 255 255 255;
    --surface-warm: 248 242 231;
    --surface-cool: 234 242 241;
    --accent: 249 115 22;
    --accent-strong: 194 65 12;
    --signal: 20 184 166;
    --signal-strong: 13 148 136;
    --shadow: 0 30px 60px rgba(15, 23, 42, 0.14);
    --radius: 26px;
    --font-mono: "JetBrains Mono", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New",
      monospace;
  }

  body {
    @apply min-h-screen antialiased;
    color: rgb(var(--ink));
    font-family: "Space Grotesk", "Segoe UI", system-ui, sans-serif;
    background-color: rgb(var(--surface-warm));
    background-image:
      radial-gradient(circle at 12% 8%, rgb(var(--accent) / 0.18), transparent 52%),
      radial-gradient(circle at 86% 12%, rgb(var(--signal) / 0.16), transparent 48%),
      linear-gradient(140deg, rgb(var(--surface-warm)), rgb(var(--surface-cool)));
    background-attachment: fixed;
    position: relative;
    isolation: isolate;
  }

  html {
    scroll-behavior: smooth;
  }

  @media (prefers-reduced-motion: reduce) {
    html {
      scroll-behavior: auto;
    }
  }

  body::before {
    content: "";
    position: fixed;
    inset: 0;
    background-image:
      linear-gradient(90deg, rgba(15, 23, 42, 0.04) 1px, transparent 1px),
      linear-gradient(0deg, rgba(15, 23, 42, 0.04) 1px, transparent 1px);
    background-size: 120px 120px;
    opacity: 0.4;
    pointer-events: none;
    z-index: 0;
  }

  a {
    @apply text-inherit no-underline;
  }
}

@layer utilities {
  @keyframes header-in {
    0% {
      opacity: 0;
      transform: translateY(12px);
    }
    100% {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes card-in {
    0% {
      opacity: 0;
      transform: translateY(16px) scale(0.98);
    }
    100% {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
  }

  @keyframes pulse-dot {
    0% {
      transform: scale(1);
      box-shadow: 0 0 0 rgba(249, 115, 22, 0.3);
    }
    100% {
      transform: scale(1.12);
      box-shadow: 0 0 16px rgba(249, 115, 22, 0.5);
    }
  }
}

@layer components {
  .app-shell {
    @apply relative flex min-h-screen flex-col;
    z-index: 1;
  }

  html[data-motion-ready='true'] [data-motion] {
    opacity: 0;
    transform: translateY(12px);
  }

  html[data-motion-ready='true'] [data-motion][data-motion-state='in'] {
    opacity: 1;
    transform: translateY(0);
  }

  [data-motion] {
    will-change: transform, opacity;
  }

  .layout-shell {
    @apply mx-auto w-full max-w-6xl px-6 py-10 sm:px-10;
  }

  .topbar {
    @apply flex flex-col gap-6 sm:flex-row sm:items-center sm:justify-between;
    animation: header-in 0.8s ease-out both;
  }

  .brand {
    @apply flex items-center gap-4;
  }

  .brand-mark {
    @apply relative h-12 w-12 rounded-[18px];
    background: conic-gradient(
      from 140deg,
      rgb(var(--accent) / 0.95),
      rgb(var(--signal) / 0.9),
      rgb(var(--accent) / 0.9)
    );
    box-shadow: 0 18px 40px rgba(249, 115, 22, 0.18);
  }

  .brand-mark::after {
    content: "";
    position: absolute;
    inset: 3px;
    border-radius: 14px;
    background: linear-gradient(160deg, rgba(255, 255, 255, 0.9), rgba(255, 255, 255, 0.6));
    box-shadow: inset 0 0 12px rgba(15, 23, 42, 0.1);
  }

  .brand-title {
    @apply flex flex-col leading-tight;
  }

  .brand-title strong {
    @apply text-lg font-semibold tracking-[0.4em] text-slate-900;
  }

  .brand-title span {
    @apply text-[11px] uppercase tracking-[0.4em] text-slate-500;
  }

  .nav-links {
    @apply flex flex-wrap gap-4;
    @apply font-mono text-[11px] uppercase tracking-[0.35em] text-slate-500;
  }

  .nav-links a {
    @apply border-b border-transparent pb-1 transition-all hover:border-amber-400 hover:text-slate-900;
  }

  .fragment-shell {
    @apply mt-6 space-y-5;
  }

  .fragment-status {
    @apply inline-flex items-center gap-2 rounded-full border border-amber-200/70 bg-white/70 px-4 py-2;
    @apply font-mono text-[11px] uppercase tracking-[0.35em] text-slate-600;
  }

  .fragment-status .dot {
    @apply h-2 w-2 rounded-full bg-amber-400;
    animation: pulse-dot 1.4s ease-in-out infinite alternate;
  }

  .fragment-grid {
    @apply grid gap-6;
  }

  @media (min-width: 900px) {
    .fragment-grid {
      grid-template-columns: repeat(12, minmax(0, 1fr));
    }
  }

  .fragment-card {
    @apply relative overflow-hidden rounded-[var(--radius)] border border-amber-100/80 bg-white/80 p-6;
    box-shadow: var(--shadow);
    backdrop-filter: blur(8px);
  }

  .fragment-card::after {
    content: "";
    position: absolute;
    inset: 0;
    background:
      radial-gradient(circle at top right, rgb(var(--accent) / 0.18), transparent 45%),
      radial-gradient(circle at bottom left, rgb(var(--signal) / 0.18), transparent 40%);
    opacity: 0;
    transition: opacity 200ms ease;
    pointer-events: none;
  }

  .fragment-card:hover::after {
    opacity: 1;
  }

  .fragment-card h1,
  .fragment-card h2,
  .fragment-card h3 {
    @apply mb-3 text-xl font-semibold text-slate-900;
  }

  .fragment-card p {
    @apply text-sm leading-6 text-slate-600;
  }

  .fragment-placeholder {
    @apply rounded-[20px] border border-dashed border-amber-200/70 bg-amber-50/40 p-5 text-sm text-slate-500;
  }

  .meta-line {
    @apply mb-3 flex flex-wrap gap-2 font-mono text-[11px] uppercase tracking-[0.35em] text-slate-500;
  }

  .badge {
    @apply inline-flex items-center gap-2 rounded-full border border-slate-200 bg-white px-3 py-1;
    @apply font-mono text-[10px] uppercase tracking-[0.35em] text-slate-600;
  }

  .badge.accent {
    @apply border-amber-200/80 bg-amber-50 text-amber-700;
  }

  .badge.signal {
    @apply border-teal-200/80 bg-teal-50 text-teal-700;
  }

  .inline-list {
    @apply mt-4 flex flex-col gap-3 p-0;
    @apply font-mono text-[11px] uppercase tracking-[0.35em] text-slate-500;
    list-style: none;
  }

  .inline-list li {
    @apply flex items-center gap-3;
  }

  .inline-list span {
    @apply h-2.5 w-2.5 rounded-full bg-amber-400;
    box-shadow: 0 0 12px rgba(249, 115, 22, 0.35);
  }

  .matrix {
    @apply mt-4 grid gap-3;
    grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
  }

  .matrix .cell {
    @apply rounded-2xl border border-slate-200/70 bg-white/70 p-4;
    @apply font-mono text-[11px] uppercase tracking-[0.35em] text-slate-500;
  }

  .matrix .cell strong {
    @apply mt-2 block text-base font-semibold text-slate-900;
  }

  .action-button {
    @apply inline-flex items-center gap-2 rounded-full bg-amber-400 px-5 py-3;
    @apply font-mono text-[11px] uppercase tracking-[0.35em] text-slate-900;
    box-shadow: 0 16px 30px rgba(249, 115, 22, 0.3);
    transition: transform 160ms ease, box-shadow 160ms ease;
  }

  .action-button:hover {
    transform: translateY(-1px);
    box-shadow: 0 22px 36px rgba(249, 115, 22, 0.35);
  }

  .preact-island {
    @apply mt-4 rounded-2xl border border-teal-200/80 bg-white/70 p-4;
  }

  .preact-island button {
    @apply mt-3 rounded-full border border-slate-200 bg-white px-4 py-2;
    @apply font-mono text-[11px] uppercase tracking-[0.35em] text-slate-600;
    transition: color 160ms ease, border-color 160ms ease, transform 160ms ease;
  }

  .preact-island button:hover {
    @apply border-teal-300 text-teal-700;
    transform: translateY(-1px);
  }
}
