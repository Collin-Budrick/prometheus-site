:root {
  color-scheme: light;
  scrollbar-gutter: stable;
  --ink: 15 23 42;
  --ink-soft: 30 41 59;
  --muted: 71 85 105;
  --muted-soft: 100 116 139;
  --muted-faint: 148 163 184;
  --surface: 255 255 255;
  --surface-strong: 255 255 255;
  --surface-soft: 248 250 252;
  --surface-warm: 255 246 220;
  --surface-cool: 238 230 255;
  --accent: 168 85 247;
  --accent-strong: 126 34 206;
  --accent-ink: 15 23 42;
  --signal: 20 184 166;
  --signal-strong: 13 148 136;
  --stroke: 226 232 240;
  --stroke-strong: 203 213 225;
  --shadow: 0 30px 60px rgba(15, 23, 42, 0.14);
  --radius: 26px;
  --fragment-card-small-height: 440px;
  --fragment-card-big-height: 640px;
  --fragment-card-tall-height: calc(var(--fragment-card-small-height) * 2 + 24px);
  --motion-distance: 12px;
  --motion-fade-distance: calc(var(--motion-distance) * 0.75);
  --motion-fade-duration: 720ms;
  --motion-fade-ease: cubic-bezier(0.16, 1, 0.3, 1);
  --view-transition-duration: 620ms;
  --view-transition-duration-long: 520ms;
  --view-transition-ease: cubic-bezier(0.22, 1, 0.36, 1);
  --lang-transition-duration: 1720ms;
  --theme-transition-duration: 1400ms;
  --theme-transition-ease: cubic-bezier(0.42, 0, 0.58, 1);
  --viewport-fade-color: 255 255 255;
  --viewport-fade-size: clamp(80px, 12vmin, 160px);
  --skeleton-base: 226 232 240;
  --skeleton-highlight: 248 250 252;
  --font-mono:
    ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono",
    "Courier New", monospace;
}

:root[data-theme="dark"] {
  color-scheme: dark;
  --viewport-fade-color: 0 0 0;
  --ink: 226 232 240;
  --ink-soft: 203 213 225;
  --muted: 148 163 184;
  --muted-soft: 100 116 139;
  --muted-faint: 71 85 105;
  --surface: 15 23 42;
  --surface-strong: 17 24 39;
  --surface-soft: 30 41 59;
  --surface-warm: 0 0 0;
  --surface-cool: 0 0 0;
  --accent: 196 181 253;
  --accent-strong: 167 139 250;
  --accent-ink: 15 23 42;
  --signal: 45 212 191;
  --signal-strong: 94 234 212;
  --stroke: 51 65 85;
  --stroke-strong: 71 85 105;
  --shadow: 0 32px 68px rgba(2, 6, 23, 0.62);
  --skeleton-base: 51 65 85;
  --skeleton-highlight: 71 85 105;
}

@supports (height: 1svh) {
  :root {
    --viewport-fade-size: clamp(80px, 14svh, 160px);
  }
}

body {
  min-height: 100vh;
  color: rgb(var(--ink));
  font-family:
    system-ui,
    -apple-system,
    BlinkMacSystemFont,
    "Segoe UI",
    "Helvetica Neue",
    Arial,
    sans-serif;
  margin: 0;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  background-color: rgb(var(--surface-warm));
  background-image: linear-gradient(
    155deg,
    rgb(var(--surface-warm)),
    rgb(var(--surface-cool))
  );
  position: relative;
  isolation: isolate;
}

:root[data-theme="dark"] body {
  background-color: rgb(0 0 0);
  background-image: none;
}

.app-shell {
  position: relative;
  display: flex;
  flex-direction: column;
  min-height: 100vh;
  z-index: 1;
}

.viewport-fade {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  height: 100vh;
  pointer-events: none;
  z-index: 62;
  contain: paint;
  background:
    linear-gradient(
      to bottom,
      rgb(var(--viewport-fade-color) / 0.95),
      rgb(var(--viewport-fade-color) / 0)
    )
      top / 100% var(--viewport-fade-size) no-repeat,
    linear-gradient(
      to top,
      rgb(var(--viewport-fade-color) / 0.9),
      rgb(var(--viewport-fade-color) / 0)
    )
      bottom / 100% var(--viewport-fade-size) no-repeat;
}

@supports (height: 1svh) {
  .viewport-fade {
    height: 100svh;
  }
}
